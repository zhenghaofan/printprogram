define(["jquery","app/Stage"],function(e,t){var n=function(){var n=this;n.name="selection",n.stage=t,n.ui=n.stage.ui,n.isActive=!1,n.selected=[],n.draging=!1,n.selectObj=function(e){var t=n.stage.curDoc();t&&(t.selectObject(e),n.ui.onmousedown())},n.onmousedown=function(e){var t=n.stage.curDoc();t&&t.getObjectsInPoint(),n.ui.onmousedown()||n.selectObj(e.ctrlKey)},n.active=function(){e(n.stage.cvs).on("mousedown",n.onmousedown)},n.deactive=function(){e(n.stage.cvs).off("mousedown",n.onmousedown)}};return n});